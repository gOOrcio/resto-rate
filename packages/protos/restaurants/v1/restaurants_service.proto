syntax = "proto3";

package restaurants.v1;

import "restaurants/v1/restaurant.proto";
import "google/protobuf/empty.proto";

option go_package = "api/src/generated/restaurants/v1";

service RestaurantService {
  rpc CreateRestaurant(CreateRestaurantRequest) returns (RestaurantProto);
  rpc GetRestaurant(GetRestaurantRequest) returns (RestaurantProto);
  rpc UpdateRestaurant(UpdateRestaurantRequest) returns (RestaurantProto);
  rpc DeleteRestaurant(DeleteRestaurantRequest) returns (google.protobuf.Empty);
  rpc ListRestaurants(ListRestaurantsRequest) returns (ListRestaurantsResponse);
}

message CreateRestaurantRequest {
  RestaurantProto restaurant = 1;
}

message GetRestaurantRequest {
  string id = 1; // ULID as string
}

message UpdateRestaurantRequest {
  RestaurantProto restaurant = 1;
}

message DeleteRestaurantRequest {
  string id = 1; // ULID as string
}

message ListRestaurantsRequest {
  int32 page = 1; // Page number for pagination
  int32 page_size = 2; // Number of restaurants per page
}

message ListRestaurantsResponse {
  repeated RestaurantProto restaurants = 1; // List of restaurants
  int32 total_count = 2; // Total number of restaurants
  int32 page = 3; // Current page number
  int32 page_size = 4; // Number of restaurants per page
  string next_page_token = 5; // Token for the next page, if available
}
